
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Driverworks Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-4e483f2e.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

  </head>

  <body class="index" data-languages="[&quot;lua&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-3056e635.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="lua">lua</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#license-copyright-and-trademark" class="toc-h1 toc-link" data-title="License, Copyright, and Trademark">License, Copyright, and Trademark</a>
          </li>
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction-proxies-commands" class="toc-h2 toc-link" data-title="Proxies (Commands)">Proxies (Commands)</a>
                  </li>
                  <li>
                    <a href="#introduction-protocol-notifications" class="toc-h2 toc-link" data-title="Protocol (Notifications)">Protocol (Notifications)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#what-s-new" class="toc-h1 toc-link" data-title="What’s New">What’s New</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-4-2" class="toc-h2 toc-link" data-title="What’s New in 3.4.2">What’s New in 3.4.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-4-1" class="toc-h2 toc-link" data-title="What’s New in 3.4.1">What’s New in 3.4.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-4-0" class="toc-h2 toc-link" data-title="What’s New in 3.4.0">What’s New in 3.4.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-2" class="toc-h2 toc-link" data-title="What’s New in 3.3.2">What’s New in 3.3.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-1" class="toc-h2 toc-link" data-title="What’s New in 3.3.1">What’s New in 3.3.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-0" class="toc-h2 toc-link" data-title="What’s New in 3.3.0">What’s New in 3.3.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-3" class="toc-h2 toc-link" data-title="What’s New in 3.2.3">What’s New in 3.2.3</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-2" class="toc-h2 toc-link" data-title="What’s New in 3.2.2">What’s New in 3.2.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-1" class="toc-h2 toc-link" data-title="What’s New in 3.2.1">What’s New in 3.2.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-0" class="toc-h2 toc-link" data-title="What’s New in 3.2.0">What’s New in 3.2.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-3-1-2" class="toc-h2 toc-link" data-title="What was New in 3.1.2">What was New in 3.1.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-3-1-0" class="toc-h2 toc-link" data-title="What was New in 3.1.0">What was New in 3.1.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-o-s-3" class="toc-h2 toc-link" data-title="What was New in O.S.3">What was New in O.S.3</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ui-button-proxy-overview" class="toc-h1 toc-link" data-title="UI Button Proxy Overview">UI Button Proxy Overview</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ui-button-proxy-overview-what-was-new-in-o-s-3-html-webview-overview" class="toc-h2 toc-link" data-title="HTML WebView Overview">HTML WebView Overview</a>
                  </li>
                  <li>
                    <a href="#ui-button-proxy-overview-what-was-new-in-o-s-3-html-webview-usage-best-practice-recommendations" class="toc-h2 toc-link" data-title="HTML WebView Usage Best Practice Recommendations">HTML WebView Usage Best Practice Recommendations</a>
                  </li>
                  <li>
                    <a href="#ui-button-proxy-overview-what-was-new-in-o-s-3-javascript-api" class="toc-h2 toc-link" data-title="JavaScript API">JavaScript API</a>
                  </li>
                  <li>
                    <a href="#ui-button-proxy-overview-what-was-new-in-o-s-3-webview-mobile-usage-best-practice-recommendations" class="toc-h2 toc-link" data-title="WebView Mobile Usage Best Practice Recommendations">WebView Mobile Usage Best Practice Recommendations</a>
                  </li>
                  <li>
                    <a href="#ui-button-proxy-overview-what-was-new-in-o-s-3-implementation" class="toc-h2 toc-link" data-title="Implementation">Implementation</a>
                  </li>
                  <li>
                    <a href="#ui-button-proxy-overview-what-was-new-in-o-s-3-supported-html-css-components" class="toc-h2 toc-link" data-title="Supported HTML/CSS Components">Supported HTML/CSS Components</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ui-button-capabilities" class="toc-h1 toc-link" data-title="UI Button Capabilities">UI Button Capabilities</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ui-button-capabilities-what-was-new-in-o-s-3-example" class="toc-h2 toc-link" data-title="Example">Example</a>
                  </li>
                  <li>
                    <a href="#ui-button-capabilities-what-was-new-in-o-s-3-example" class="toc-h2 toc-link" data-title="Example">Example</a>
                  </li>
                  <li>
                    <a href="#ui-button-capabilities-what-was-new-in-o-s-3-web_view_url" class="toc-h2 toc-link" data-title="web_view_url">web_view_url</a>
                  </li>
                  <li>
                    <a href="#ui-button-capabilities-what-was-new-in-o-s-3-example" class="toc-h2 toc-link" data-title="Example">Example</a>
                  </li>
                  <li>
                    <a href="#ui-button-capabilities-what-was-new-in-o-s-3-mobile_web_view_enabled" class="toc-h2 toc-link" data-title="mobile_web_view_enabled">mobile_web_view_enabled</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ui-button-proxy-events" class="toc-h1 toc-link" data-title="UI Button Proxy Events">UI Button Proxy Events</a>
          </li>
          <li>
            <a href="#ui-button-proxy-notifications" class="toc-h1 toc-link" data-title="UI Button Proxy Notifications">UI Button Proxy Notifications</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ui-button-proxy-notifications-icon_changed" class="toc-h2 toc-link" data-title="ICON_CHANGED">ICON_CHANGED</a>
                  </li>
                  <li>
                    <a href="#ui-button-proxy-notifications-url_changed" class="toc-h2 toc-link" data-title="URL_CHANGED">URL_CHANGED</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ui-button-proxy-commands" class="toc-h1 toc-link" data-title="UI Button Proxy Commands">UI Button Proxy Commands</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ui-button-proxy-commands-select" class="toc-h2 toc-link" data-title="SELECT">SELECT</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ui-button-proxy-variables" class="toc-h1 toc-link" data-title="UI Button Proxy Variables">UI Button Proxy Variables</a>
          </li>
          <li>
            <a href="#ui-button-proxy-webview-javascript-api" class="toc-h1 toc-link" data-title="UI Button Proxy Webview JavaScript API">UI Button Proxy Webview JavaScript API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ui-button-proxy-webview-javascript-api-api-overview" class="toc-h2 toc-link" data-title="API OVERVIEW">API OVERVIEW</a>
                  </li>
                  <li>
                    <a href="#ui-button-proxy-webview-javascript-api-c4-sendcommand" class="toc-h2 toc-link" data-title="C4.sendCommand">C4.sendCommand</a>
                  </li>
                  <li>
                    <a href="#ui-button-proxy-webview-javascript-api-c4-subscribetodatatoui" class="toc-h2 toc-link" data-title="C4.subscribeToDataToUi">C4.subscribeToDataToUi</a>
                  </li>
                  <li>
                    <a href="#ui-button-proxy-webview-javascript-api-c4-subscribetovariable" class="toc-h2 toc-link" data-title="C4.subscribeToVariable">C4.subscribeToVariable</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ui-button-proxy-javascript-logging" class="toc-h1 toc-link" data-title="UI Button Proxy JavaScript Logging">UI Button Proxy JavaScript Logging</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ui-button-proxy-javascript-logging-managing-js-logging-using-console-log" class="toc-h2 toc-link" data-title="Managing JS Logging using console.log">Managing JS Logging using console.log</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://snap-one.github.io/docs-driverworks-introduction/'>An Introduction to DriverWorks</a></li>
            <li><a href='https://snap-one.github.io/docs-driverworks-fundamentals/'>DriverWorks Fundamentals Guide</a></li>
            <li><a href='https://snap-one.github.io/docs-driverworks-api/'>DriverWorks API Reference Guide</a></li>
            <li><a href='https://github.com/snap-one/docs-driverworks'>DriverWorks GitHub Home</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='license-copyright-and-trademark'>License, Copyright, and Trademark</h1>

<p>The content contained in this repository is the intellectual property of Snap One, LLC, (formerly known as Wirepath Home Systems, LLC), and use without a valid license from Snap One is strictly prohibited. The user of this repository shall keep all content contained herein confidential and shall protect this content in whole or in part from disclosure to any and all third parties except as specifically authorized in writing by Snap One.</p>

<p><strong>License and Intellectual Property Disclaimer</strong></p>

<p>The content in this repository is provided in connection with Snap One products. No license, express or implied, by estoppal or otherwise, to any intellectual property rights is granted by this document or in this repository. Except as provided in Snap Oneʼs terms and conditions for the license of such products, Snap One and its affiliates assume no liability whatsoever and disclaim any express or implied warranty, relating to the sale and/or use of Snap One products including liability or warranties relating to fitness for a particular purpose, merchantability, or infringement of any patent, copyright or other intellectual property right. Snap One products are not intended for use in medical, lifesaving, or life sustaining applications.</p>

<p>Information regarding third-party products is provided solely for educational purposes. Snap One is not responsible for the performance or support of third-party products and does not make any representations or warranties whatsoever regarding the quality, reliability, functionality or compatibility of these products. The reader is advised that third parties can have intellectual property rights that can be relevant to this repository and the technologies discussed herein, and is advised to seek the advice of competent legal counsel regarding the intellectual property rights of third parties, without obligation of Snap One.</p>

<p>Snap One retains the right make changes to this repository or related product specifications and descriptions in this repository, at any time, without notice. Snap One makes no warranty for the use of this repository and assumes no responsibility for any errors that can appear in the repository nor does it make a commitment to update the content contained herein.</p>

<p><strong>Copyright</strong></p>

<p>Copyright 2024 Snap One, LLC. All rights reserved.</p>

<p>The above copyright notice applies to all content in this repository unless otherwise stated explicitly herein that a third-party’s copyright applies.</p>

<p>No part of this publication may be reproduced, photocopied, stored on a retrieval system, or transmitted without the express written consent of the publisher.</p>

<p><strong>Trademarks</strong></p>

<p>Snap One and Snap One Logo, Control4 and the Control4 logo, and DriverWorks are trademarks or registered trademarks of  Snap One, LLC. Other product and company names mentioned in this repository may be the trademarks or registered trademarks of their respective owners.</p>

<p><strong> Derivative Works</strong></p>

<p>To the extent that you create any “Derivative Work” (meaning any work that is based upon one or more preexisting versions of the work provided to you in this repository, such as an enhancement or modification, revision, translation, abridgement, condensation, expansion, collection, compilation or any other form in which such preexisting works may be recast, modified, transformed or adapted, explicitly including without limitation, any updates or changes to Snap One, LLC’s software code or intellectual property) such Derivative Work shall be owned by Snap One, LLC and all right, title and interest in and to each such Derivative Work shall automatically vest in Snap One, LLC. To the extent any Derivative Work does not automatically vest in Snap One, LLC by operation of law, you hereby assign such Derivative Work to Snap One, LLC with full title guarantee. Snap One, LLC shall have no obligation to grant you any right in any such Derivative Work.</p>

<p><strong>Contact Us</strong></p>

<p>Snap One, LLC
11734 S. Election Road
Salt Lake City, UT 84020 USA</p>

<p><a href="www.control4.com">http://www.control4.com</a></p>
<h1 id='introduction'>Introduction</h1>

<p>This documentation includes content that details the functions that make up the UI Button Proxy which is supported in the DriverWorks Software Development Kit.</p>

<h2 id='introduction-proxies-commands'>Proxies (Commands)</h2>

<p>A proxy driver is an interface to the Control4 system for a set of devices that share common functionality. For instance, most DVD disc changers have common controls such as PLAY, STOP, PAUSE and FAST FORWARD.  The disc changer proxy allows for a common user interface to control all disc changers.  The Control4 system (Director) sends information to and receives information from the proxy drivers.  The proxy drivers send information to and receives information from the protocol drivers.
Remember, your DriverWorks driver interacts with the proxy driver which then interacts with the system.  As a driver developer you will be relying on this proxy to provide status (notification) to the Control4 system for the device you are controlling.  You will also receive commands from the system that you will act on to control the device.  These commands and notifications are at the heart of what you will be implementing in your driver.  Essentially your driver is becoming the go-between from the Control4 system and your device with the proxy driver giving structure to the commands and notifications which you will be implementing.
Your driver can facilitate communications with multiple types of proxies for a single device. As an example, a Security System driver will utilize both the Security proxy and the Contacts proxy. These additional proxies are configured in the &lt;connections&gt; section of the .c4z.</p>

<h2 id='introduction-protocol-notifications'>Protocol (Notifications)</h2>

<p>Two similar devices may have the same functionality but utilize a very different command set.  A protocol driver provides the device-specific information needed to communicate with the Control4 system.  In the case of DriverWorks, the DriverWorks driver is the protocol driver.  When combined with the device-specific.c4Z file it provides the custom code necessary to implement the 2-way device driver.  In the case of DriverWorks, the DriverWorks driver is the protocol driver. When combined with the device-specific.c4Z file it provides the custom code necessary to implement the 2-way device driver.</p>
<h1 id='what-s-new'>What’s New</h1>

<h2 id='what-s-new-what-s-new-in-3-4-2'>What’s New in 3.4.2</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.4.2.</p>

<h2 id='what-s-new-what-s-new-in-3-4-1'>What’s New in 3.4.1</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.4.1.</p>

<h2 id='what-s-new-what-s-new-in-3-4-0'>What’s New in 3.4.0</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.4.0.</p>

<h2 id='what-s-new-what-s-new-in-3-3-2'>What’s New in 3.3.2</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.3.2.</p>

<h2 id='what-s-new-what-s-new-in-3-3-1'>What’s New in 3.3.1</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.3.1.</p>

<h2 id='what-s-new-what-s-new-in-3-3-0'>What’s New in 3.3.0</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.3.0.</p>

<h2 id='what-s-new-what-s-new-in-3-2-3'>What’s New in 3.2.3</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.2.3.</p>

<h2 id='what-s-new-what-s-new-in-3-2-2'>What’s New in 3.2.2</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.2.2.</p>

<h2 id='what-s-new-what-s-new-in-3-2-1'>What’s New in 3.2.1</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.2.1.</p>

<h2 id='what-s-new-what-s-new-in-3-2-0'>What’s New in 3.2.0</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.2.0.</p>

<h2 id='what-s-new-what-was-new-in-3-1-2'>What was New in 3.1.2</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.1.2.</p>

<h2 id='what-s-new-what-was-new-in-3-1-0'>What was New in 3.1.0</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.1.0.</p>

<h2 id='what-s-new-what-was-new-in-o-s-3'>What was New in O.S.3</h2>

<p>There were no modifications to the UI Button Proxy in conjunction with O.S. Release 3.0.0.</p>
<h1 id='ui-button-proxy-overview'>UI Button Proxy Overview</h1>

<p>The UI Button Proxy was delivered in OS 2.9.0. The proxy supports the display of a configurable button within Navigator. The button and can be placed onto any experience menu such as Listen, Watch, Security, Comfort. Navigator menu configuration for shortcuts supported by the button is done through ComposerPro&#39;s standard room menu controls.The button&#39;s icon can also change to reflect the state of the device that the button controls.</p>

<p>The XML name of the proxy is &quot;UI Button&quot;. For example:</p>

<p><code>&lt;proxies&gt;</code>
  <code>&lt;proxy proxybindingid=&quot;5001&quot; name=&quot;UI Button&quot;&gt;uibutton&lt;/proxy&gt;</code>
<code>&lt;/proxies&gt;</code></p>

<p>To the right is an example of the connection information required to use the UI Button Proxy:</p>

<div class="highlight"><pre class="highlight xml tab-xml"><code> <span class="nt">&lt;connections&gt;</span>
    <span class="nt">&lt;connection&gt;</span>
        <span class="nt">&lt;id&gt;</span>5001<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;facing&gt;</span>6<span class="nt">&lt;/facing&gt;</span>
        <span class="nt">&lt;connectionname&gt;</span>UIBUTTON<span class="nt">&lt;/connectionname&gt;</span>
        <span class="nt">&lt;type&gt;</span>2<span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;consumer&gt;</span>False<span class="nt">&lt;/consumer&gt;</span>
        <span class="nt">&lt;audiosource&gt;</span>False<span class="nt">&lt;/audiosource&gt;</span>
        <span class="nt">&lt;videosource&gt;</span>False<span class="nt">&lt;/videosource&gt;</span>
        <span class="nt">&lt;linelevel&gt;</span>False<span class="nt">&lt;/linelevel&gt;</span>
        <span class="nt">&lt;classes&gt;</span>
            <span class="nt">&lt;class&gt;</span>
               <span class="nt">&lt;classname&gt;</span>UIBUTTON<span class="nt">&lt;/classname&gt;</span>
         <span class="nt">&lt;/class&gt;</span>
       <span class="nt">&lt;/classes&gt;</span>
    <span class="nt">&lt;/connection&gt;</span>
<span class="nt">&lt;/connections&gt;</span>
</code></pre></div>

<p>Note that OS Release 2.10.0 enhanced this Proxy with the capability to allow for URL manipulation of Navigator&#39;s web module feature through the use of the HTML Web View.</p>

<h3 id='ui-button-proxy-overview-what-was-new-in-o-s-3-html-webview-overview'>HTML WebView Overview</h3>

<p>Adding the HTML WebView functionality to an Experience (UIbutton) driver enables the driver developer to specify a web URL that can provide an HTML interface for the end user. The web UI is launched within an embedded browser on the Control4 T3 touch screen.</p>

<h3 id='ui-button-proxy-overview-what-was-new-in-o-s-3-html-webview-usage-best-practice-recommendations'>HTML WebView Usage Best Practice Recommendations</h3>

<p>The Driver Developer should implement the proxy interfaces that Control4 provides as a standard part of the user
experience to the full extent that these apply to the device. The web interface should be considered supplementary to
the proxy interface.</p>

<p>The Driver Developer should keep the Web UI as simple as reasonably possible.</p>

<p>HTML WebView Usage Guidelines (rules):</p>

<p>The developer must self-certify their website on our current browsers (on the T3, T4s and Mobile devices). If they find any incompatibility between their HTML UI / website, and our embedded browser, they must code around it.</p>

<p>They must provide all support for their web UI.</p>

<p>The Experience driver can do no more than reference the external website, all log ins must occur at the web site, not within the driver.</p>

<p>There is no Control4 certification for an Experience driver that uses the HTML WebView capability.</p>

<p>Because these drivers are not certified, we reserve the right to post them or not to post them within the Control4 online database based on discretion.</p>

<p>If a call comes to our support, we MAY instruct the dealer to remove the driver, otherwise any support will be referred to the developer of the driver.</p>

<h3 id='ui-button-proxy-overview-what-was-new-in-o-s-3-javascript-api'>JavaScript API</h3>

<p>The Proxy has also been enhanced to  provide a <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#ui-button-proxy-overview-thermostat-proxy-variables-javascript-api">JavaScript API</a> that allows Driver hosted web views to send commands, subscribe to DATA_TO_UIs and variables using the existing mobile communication channels.</p>

<p>In addition to the APIs, a new capability has been added: <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#ui-button-capabilities-thermostat-proxy-variables-mobile_web_view_enabled">mobile_webview_enabled</a></p>

<p>This functionality is available for all customers running mobile app version 321.46 (or later) and running OS 3.1.3 (or later).</p>

<p>A sample Driver: JavascriptAPIDemo.c4z is also available. To use the demo driver:</p>

<ol>
<li>Download the Javascript API driver from the JS demo Driver folder from the DiverWorks Github repository and add it to your project.</li>
<li>Under the Project’s System Design, select the room where the driver was added.</li>
<li>Under the Room’s Properties select Navigator.</li>
<li>Note the that the demo driver (UI Button) is listed under the Device column in the following Experience Menus: Comfort, Listen, Security and Watch.</li>
<li>Ensure that UI Button has a Visibility status of Visible in each of the Experience menus. The status can be changed by clicking on the Modify … button on the Properties screen.</li>
<li>Refresh Navigators.</li>
</ol>

<p><strong>Demo Driver Usage </strong></p>

<p>The driver utilizes a lightbulb and color variables to demonstrate the use of the web_view_url capability and new APIs. Selecting the UI Button driver from System Design will display the Advanced properties for the driver.  The driver supports the selection of several states for the bulb.</p>

<p><img src="images/103_1-01-8cb751f2.png"/></p>

<p>Select a state, Red for example, and click the set Button. Verify the color state is red on Touchscreens in the room where the UI Button resides and mobile devices running this project. The color state can also be verified by double clicking the UI Button driver from System design.</p>

<p><img src="images/103_1-02-764b927f.png"/></p>

<p>The driver’s Lua output will from the Red State setting is displayed to the right.</p>

<div class="highlight"><pre class="highlight xml tab-xml"><code>OnPropertyChange(): States  Red
OnPropertyChange(): States
Icon changed to:    Red
Red
fireEvent():    Red
</code></pre></div>

<p>Next, from a mobile device, change the color of the bulb state to Blue. Verify the state change on Touchsrceens and double clicking the UI Button driver from System design.</p>

<p>The driver’s Lua output from changing from red State to Blue is displayed to the right.</p>

<p><div class="highlight"><pre class="highlight xml tab-xml"><code>OnPropertyChange(): States  Red
OnPropertyChange(): States
Icon changed to:    Red
Red
fireEvent():    Red
OnPropertyChange(): States  Blue
Icon changed to:    Blue
OnPropertyChange(): States
Blue
fireEvent():    Blue
</code></pre></div><h3 id='ui-button-proxy-overview-what-was-new-in-o-s-3-webview-mobile-usage-best-practice-recommendations'>WebView Mobile Usage Best Practice Recommendations</h3>
<p>Webview Mobile App Usage Guidelines (rules):</p></p>

<p>When accessing a controller remotely through the App, a fully qualified URL should be used to ensure all UI resources will render correctly on the App. The mobile App cannot access local-style resources specified by the CSS. However, if the CSS is structured to include the fully qualified path including the controller syntax, the resource will be available both locally and remotely.</p>

<p>For example, here is a path that would successfully render a background image locally:</p>

<p><code>{ background-image: url(../images/wp_carbon_blue.jpg); padding: 16px; } </code></p>

<p>However, this path will fail to render the  image on the mobile App. An example of a fully qualified URL to the background image would be:</p>

<p><code>{ background-image: url(controller://driver/JavascriptAPIDemo/contents/images/wp_carbon_blue.jpg); padding: 16px; }</code></p>

<h3 id='ui-button-proxy-overview-what-was-new-in-o-s-3-implementation'>Implementation</h3>

<p>See the <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#ui-button-capabilities-thermostat-proxy-variables-web_view_url">web_view_url</a> capability</p>

<h3 id='ui-button-proxy-overview-what-was-new-in-o-s-3-supported-html-css-components'>Supported HTML/CSS Components</h3>

<p>The following HTML/CSS components and versions are shipped with the T3 and T4 touchscreens:</p>

<p><strong>T4:</strong> (OS 3.2.1 or above)</p>

<ul>
<li>Mozilla 5.0</li>
<li>Android 9 Mobile rv:96.0</li>
<li>Gecko/96.0</li>
<li>Firefox/96.0</li>
</ul>

<p><strong>T3:</strong> (OS 3.1.3 or above)</p>

<ul>
<li>Mozilla 5.0</li>
<li>Android 4.4.2 Mobile rv: 96.0</li>
<li>Gecko 96.0</li>
<li>Firefox 96.0</li>
</ul>

<p><strong>T3:</strong> (OS 3.1.2 or below)</p>

<ul>
<li> Mozilla 5.0</li>
<li>Linux for Android 4.4.2 rk3188 Build KOT49H</li>
<li>AppleWebKit 537.36</li>
<li>KHTML, like Gecko Version 4.0</li>
<li>Chrome 30.0.0.0</li>
<li>Safari 537.36</li>
</ul>
<h1 id='ui-button-capabilities'>UI Button Capabilities</h1>

<p><code>&lt;navigator_display_options&gt;&lt;/navigator_display_options&gt;</code> </p>

<p>This capability adds the ability to display device state icons for the button. As of this release, icon resolution for non-Media Server Proxy based drivers is:</p>

<ul>
<li>300x300px</li>
<li>90x90px </li>
<li>70x70px</li>
</ul>

<h3 id='ui-button-capabilities-what-was-new-in-o-s-3-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;navigator_display_option</span> <span class="na">proxybindingid=</span><span class="s">"5001"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;display_icons&gt;</span>
            <span class="c">&lt;!-- Default Icon --&gt;</span>
            <span class="nt">&lt;Icon</span> <span class="na">width=</span><span class="s">"300"</span> <span class="na">height=</span><span class="s">"300"</span><span class="nt">&gt;</span>controller://driver/shortcutTest/icons/msp_ico_settings/msp_ico_settings_300.png<span class="nt">&lt;/Icon&gt;</span>
            <span class="c">&lt;!-- On State --&gt;</span>
            <span class="nt">&lt;state</span> <span class="na">id=</span><span class="s">"Settings-on"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Icon</span> <span class="na">width=</span><span class="s">"300"</span> <span class="na">height=</span><span class="s">"300"</span><span class="nt">&gt;</span>controller://driver/shortcutTest/icons/msp_ico_settings_a/msp_ico_settings_a_300.png<span class="nt">&lt;/Icon&gt;</span>
            <span class="nt">&lt;/state&gt;</span>
              <span class="c">&lt;!-- Off State --&gt;</span>
              <span class="nt">&lt;state</span> <span class="na">id=</span><span class="s">"Settings-off"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;Icon</span> <span class="na">width=</span><span class="s">"300"</span> <span class="na">height=</span><span class="s">"300"</span><span class="nt">&gt;</span>controller://driver/shortcutTest/icons/msp_ico_settings/msp_ico_settings_a_300.png<span class="nt">&lt;/Icon&gt;</span>
            <span class="nt">&lt;/state&gt;</span>     
        <span class="nt">&lt;/display_icons&gt;</span>
    <span class="nt">&lt;/navigator_display_option&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<p>Note, the example to the right does not include all icon sizes for brevity.</p>

<p><code>&lt;web_view_url&gt;&lt;/web_view_url&gt;</code>
Optional Capability which, when added contains the default URL that is associated with the shortcut.</p>
<h3 id='ui-button-capabilities-what-was-new-in-o-s-3-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
   <span class="nt">&lt;web_view_url</span> <span class="na">proxybindingid=</span><span class="s">"5000"</span><span class="nt">&gt;</span>http://youtube.com<span class="nt">&lt;/web_view_url&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div><h3 id='ui-button-capabilities-what-was-new-in-o-s-3-web_view_url'>web_view_url</h3>

<p><code>&lt;web_view_url&gt;&lt;/web_view_url&gt;</code></p>

<p>An optional capability which points to the c4z-delivered web application. The controller://driver/driver_name construct (i.e., the Controller URL Scheme) connects at the driver&#39;s www directory as the root of the path. </p>

<p>Note that the driver name <strong>MUST</strong> be the same as the driver&#39;s filename. </p>

<h3 id='ui-button-capabilities-what-was-new-in-o-s-3-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
   <span class="nt">&lt;web_view_url</span> <span class="na">proxybindingid=</span><span class="s">"5001"</span><span class="nt">&gt;</span>controller://driver/JavascriptAPIDemo/contents/index.html<span class="nt">&lt;/web_view_url&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div><h3 id='ui-button-capabilities-what-was-new-in-o-s-3-mobile_web_view_enabled'>mobile_web_view_enabled</h3>

<p><code>&lt;mobile_web_view_enabled&gt;&lt;/mobile_web_view_enabled&gt;</code></p>

<p>An optional boolean capability that indicates that the driver can be shown in mobile clients when the <code>web_view_url</code> capability is also present. Applicable to O.S. 3.0.0 and later.</p>
<h1 id='ui-button-proxy-events'>UI Button Proxy Events</h1>

<p>The UI Button Proxy currently supports one Event:</p>

<p><code>Selected</code> - Fired upon receiving the Select command.</p>
<h1 id='ui-button-proxy-notifications'>UI Button Proxy Notifications</h1>

<h2 id='ui-button-proxy-notifications-icon_changed'>ICON_CHANGED</h2>

<p>Notification sent to the proxy to change the driver&#39;s icon.</p>

<h3 id='ui-button-proxy-notifications-icon_changed-signature'>Signature</h3>

<p><code>ICON_CHANGED</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>icon</td>
<td>str:  value which references an icon state name defined in the <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#ui-button-capabilities">display icons</a> capability or an empty string to set the default icon.</td>
</tr>
<tr>
<td>icon_description</td>
<td>str: Value of a human readable string describing the icon state. This is used in the List Navigator in place of the icon.</td>
</tr>
</tbody></table>

<h3 id='ui-button-proxy-notifications-icon_changed-returns'>Returns</h3>

<p><code>None</code></p>

<h3 id='ui-button-proxy-notifications-icon_changed-datatoui'>DataToUI</h3>

<p>Sends “icon” DataToUI: <code>&lt;icon&gt;Settings-on&lt;/icon&gt;</code></p>

<p>Also sends “icon_description” DataToUI: <code>&lt;icon_description&gt;Settings are on&lt;/icon_description&gt;</code></p>

<h3 id='ui-button-proxy-notifications-icon_changed-example'>Example</h3>

<p><code>C4:SendToProxy(5001, &quot;ICON_CHANGED&quot;, {icon=&quot;Settings-on&quot;, icon_description=&quot;Settings are on&quot;})</code></p>

<h2 id='ui-button-proxy-notifications-url_changed'>URL_CHANGED</h2>

<p>Notification that supports the ability for the driver to dynamically change the web URL. This is useful in cases such as changing ports, load balancing and driver-delivered controller hosted UI content. This function is sent to the proxy when the URL changes. Note that if the parameter value is empty, then the URL is considered disabled and the web view will not be shown in navigator. Also, note, Navigator will not change the URL of an open web view.</p>

<h3 id='ui-button-proxy-notifications-url_changed-signature'>Signature</h3>

<p><code>URL_CHANGED</code> </p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url</td>
<td>str: Value of the URL</td>
</tr>
</tbody></table>

<h3 id='ui-button-proxy-notifications-url_changed-returns'>Returns</h3>

<p><code>None</code></p>

<h3 id='ui-button-proxy-notifications-url_changed-datatoui'>DataToUI</h3>

<p>Sends “url” DataToUI: <code>&lt;url&gt;http://google.com&lt;/url&gt;</code></p>

<h3 id='ui-button-proxy-notifications-url_changed-example'>Example</h3>

<p><code>C4:SendToProxy(5001, &quot;URL_CHANGED&quot;, {url=&quot;http://control4.com&quot;})</code></p>

<h3 id='ui-button-proxy-notifications-url_changed-usage-note'>Usage Note</h3>

<p>See the HTML Webview Overview content for more information.</p>
<h1 id='ui-button-proxy-commands'>UI Button Proxy Commands</h1>

<h2 id='ui-button-proxy-commands-select'>SELECT</h2>

<p>This command comes from the UI when a user selects the shortcut for the button. It is passed to the protocol driver and also sends the Selected event.</p>

<h3 id='ui-button-proxy-commands-select-signature'>Signature</h3>

<p><code>SELECT</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Device ID</td>
<td>NUM</td>
<td>The room device ID value where the shortcut was pressed in. Exposed by the <code>LAST_ROOM_SELECTED</code> variable.</td>
</tr>
<tr>
<td>Menu</td>
<td>STR</td>
<td>The name of the menu the shortcut was selected in. Possible values: &quot;listen&quot;, &quot;watch&quot;, &quot;security&quot;, &quot;comfort&quot;, &quot;service&quot;. Exposed by the <code>LAST_MENU_SELECTED</code> variable.</td>
</tr>
</tbody></table>
<h1 id='ui-button-proxy-variables'>UI Button Proxy Variables</h1>

<p><code>LAST_MENU_SELECTED</code>
String value of the name of the menu where the menu was selected.  Possible values are: &quot;listen&quot;, &quot;watch&quot;, &quot;security&quot;, &quot;comfort&quot;, &quot;service&quot;.</p>

<p><code>LAST_ROOM_SELECTED</code>
Number value of the room id of the last room invoked by the Select command on the shortcut.</p>
<h1 id='ui-button-proxy-webview-javascript-api'>UI Button Proxy Webview JavaScript API</h1>

<h2 id='ui-button-proxy-webview-javascript-api-api-overview'>API OVERVIEW</h2>

<p>Requires Navigator Version 321.46+</p>

<p>The Java Script API included with the UI Button proxy allows Driver hosted web views to send commands, subscribe to DATA_TO_UIs and variables using the existing mobile communication channels. This enables UI Button web views to work remotely. Previous versions of web views only worked on Control4 touchscreens residing on the local network. </p>

<p>Note that these API calls can only be made to the driver/protocol hosting the web page. UI Buttons pointing to external web pages will not be able to access the Javascript API.</p>

<h2 id='ui-button-proxy-webview-javascript-api-c4-sendcommand'>C4.sendCommand</h2>

<p>Sends a command to either the protocol or driver. All responses are sent back via the Javascript callback: <code>onDataToUi(response: string)</code>. Driver writers will need to implement this callback in their web page. Errors are sent back via:  <code>onSendCommandError(message: string)</code></p>

<h3 id='ui-button-proxy-webview-javascript-api-c4-sendcommand-signature'>Signature</h3>

<p><code>C4.sendCommand(commandName: string, params: string, async: boolean, sendToProtocol: boolean = false): void)</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td><em>commandName</em> - The name of the command to be executed by the driver or protocol.</td>
</tr>
<tr>
<td>string</td>
<td><em>params</em> - A JSON formatted string of parameters. Invalid JSON will trigger an exception.</td>
</tr>
<tr>
<td>boolean</td>
<td><em>async</em> -  <code>true</code> to send the command asynchronously to ExecuteCommand(). <code>false</code> to send the command as a UI Request.</td>
</tr>
<tr>
<td>boolean</td>
<td><em>sendToProtocol</em> - Whether the command should be sent to the protocol or driver.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Returns</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>void</em></td>
<td>All responses, even for synchronous commands, will be sent back via the Javascript callback: <code>onDataToUi(response: string)</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Callbacks</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>onDataToUi(response: string)</code></td>
<td>Callback to receive DATA_TO_UIs when subscribed.</td>
</tr>
<tr>
<td><code>onSubscribeToDataToUiError(message: string)</code></td>
<td>Callback to receive error messages when attempting to subscribe to DATA_TO_UIs.</td>
</tr>
</tbody></table>

<h3 id='ui-button-proxy-webview-javascript-api-c4-sendcommand-example'>Example</h3>

<p><code>C4.sendCommand(&quot;SetState&quot;, &quot;{&#39;state&#39;:&#39;&quot; + color + &quot;&#39;}&quot;, false, true);</code></p>

<h2 id='ui-button-proxy-webview-javascript-api-c4-subscribetodatatoui'>C4.subscribeToDataToUi</h2>

<p>Subscribes to the DATA_TO_UIs for either the protocol or proxy. All responses are sent back via the Javascript callback: <code>onDataToUi(response: string)</code>. Driver writers will need to implement this callback in their web page to receive DATA_TO_UIs. Errors are sent back via: <code>onSubscribeToDataToUiError(message: string)</code></p>

<h3 id='ui-button-proxy-webview-javascript-api-c4-subscribetodatatoui-signature'>Signature</h3>

<p><code>C4.subscribeToDataToUi(sendToProtocol: boolean = false):void</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>boolean</td>
<td><em>sendToProtocol</em> - Whether the command should be sent to the protocol (<code>true</code>) or proxy (<code>false</code>).</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Returns</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>void</em></td>
<td>All responses will be sent back via the Javascript callback: <code>onDataToUi(response: string)</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Callbacks</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>onDataToUi(response: string)</code></td>
<td>Receives DATA_TO_UIs when subscribed. DATA_TO_UIs are converted to json by Broker before being sent to the web page.</td>
</tr>
<tr>
<td><code>onSubscribeToDataToUiError(message: string)</code></td>
<td>Receives error messages when attempting to subscribe to DATA_TO_UIs.</td>
</tr>
</tbody></table>

<h3 id='ui-button-proxy-webview-javascript-api-c4-subscribetodatatoui-example'>Example</h3>

<p>Subscribes to the protocol&#39;s DataToUI events. Protocol driver&#39;s can send DataToUI 
events by calling <code>C4:SendDataToUI(xml)</code> or <code>C4:SendDataToUI (strCommand, tParams)</code></p>

<p><code>C4.subscribeToDataToUi(true);</code></p>

<h2 id='ui-button-proxy-webview-javascript-api-c4-subscribetovariable'>C4.subscribeToVariable</h2>

<p>Subscribes to the specified variable for either the protocol or proxy. All responses are sent back via the Javascript callback: <code>onVariable(response: string)</code>. Driver writers will need to implement this callback in their web page to receive variable change events. Errors are sent back via: <code>onSubscribeToVariableError(message: string)</code></p>

<h3 id='ui-button-proxy-webview-javascript-api-c4-subscribetovariable-signature'>Signature</h3>

<p><code>C4.subscribeToVariable(&quot;LAST_MENU_SELECTED&quot;, false);</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td><em>variableName</em> - The name of the variable to subscribe to for either the driver or protocol.</td>
</tr>
<tr>
<td>boolean</td>
<td><em>protocol</em> - Whether the variable is part of the protocol (<code>true</code>) or proxy (<code>false</code>).</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Returns</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>void</em></td>
<td>All responses will be sent back via the Javascript callback: <code>onDataToUi(response: string)</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Callbacks</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>onVariable(response: string)</code></td>
<td>Receives DATA_TO_UIs when subscribed.</td>
</tr>
<tr>
<td><code>onSubscribeToVariableError(variableName: string, message: string)</code></td>
<td>Receives error messages when attempting to subscribe to a variable.</td>
</tr>
</tbody></table>

<h3 id='ui-button-proxy-webview-javascript-api-c4-subscribetovariable-example'>Example</h3>

<p>Subscribes to the proxy&#39;s &quot;LAST_MENU_SELECTED&quot; variable.</p>

<p><code>C4.subscribeToVariable(&quot;LAST_MENU_SELECTED&quot;, false);</code></p>
<h1 id='ui-button-proxy-javascript-logging'>UI Button Proxy JavaScript Logging</h1>

<h2 id='ui-button-proxy-javascript-logging-managing-js-logging-using-console-log'>Managing JS Logging using console.log</h2>

<p>A debug console is included in the webview page to assist with viewing javascript logs. It is invoked by tapping 4 times on the header.  The console appears in the lower half of the view and can be positioned as needed.  Any JS console logging is shown in the console view. </p>

<p><img src="images/110_1_1-4f76cbcb.png"/></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="lua">lua</a>
          </div>
      </div>
    </div>
  </body>
</html>
